{"version":3,"sources":["login.jsx","recipe.jsx","recipe-list.jsx","recipe-test.jsx","components.jsx","food-list.jsx","App.jsx","serviceWorker.js","index.js"],"names":["Login","props","state","user","pass","error","loading","this","setState","signInWithEmailAndPassword","auth","then","userCredential","catch","e","key","checkPassword","className","onChange","target","name","value","type","placeholder","onKeyPress","handleKeyPress","bind","style","color","onClick","React","Component","i","RecipeClass","id","params","recipeId","servings","text","items","search","searchResults","editing","editingText","handleChange","onDragEnd","fetchRecipe","docRef","doc","db","getDoc","docSnap","exists","data","length","item","iRef","iSnap","console","log","querySearch","ref","collection","q","query","where","limit","getDocs","querySnapshot","forEach","doc_","push","idx","newItem","amount","visible","undefined","volume","concat","totalCals","parseInt","cals","totalservings","parseFloat","saveItem","editedItem","updateDoc","result","destination","list","startIndex","endIndex","Array","from","splice","removed","reorder","source","index","args","field","produce","draft","scale","reduce","sum","item_","totalProtein","protein","totalFat","fat","totalCarbs","carbs","totalGs","to","marginRight","save","autoComplete","toFixed","disabled","role","map","addItem","unit","droppableId","provided","snapshot","droppableProps","innerRef","isDraggingOver","draggableId","isDragDisabled","draggableProps","dragHandleProps","isDragging","draggableStyle","background","padding","handleItemChange","handleItemChangeConvert","vol_unit","toggleVisible","deleteItem","rows","split","Recipe","useParams","navigate","useNavigate","RecipeList","isArchive","fetchRecipes","addDoc","window","location","href","protocol","host","archive","deleteDoc","val","changeType","delete","newRecipe","logout","RecipeTestClass","RecipeTest","ItemForm","handleSubmit","prevProps","onSubmit","input","nameInput","preventDefault","focus","FoodList","editId","handleEditSubmit","queryItems","startEdit","width","aria-label","App","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","getFirestore","getAuth","onAuthStateChanged","signOut","path","element","Boolean","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.1c3f470f.chunk.js","sourcesContent":["import React from \"react\";\nimport { signInWithEmailAndPassword } from \"firebase/auth\";\n\nexport default class Login extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      user: '',\n      pass: '',\n      error: '',\n      loading: false\n    };\n\n  }\n  componentDidMount() {\n\n  }\n  componentWillUnmount() {\n  }\n  checkPassword() {\n    this.setState({\n      loading: true\n    })\n    signInWithEmailAndPassword(this.props.auth, this.state.user, this.state.pass)\n      .then((userCredential) => {\n        //console.log(userCredential);\n        //const user = userCredential.user;\n        // Refresh?\n        //window.location.reload();\n      })\n      .catch((error) => {\n        // Set error message\n        //console.log(error);\n        //console.log(error.code);\n        //console.log(error.message);\n        //const errorCode = error.code;\n        //const errorMessage = error.message;\n        this.setState({\n          error:'Password is incorrect.',\n          loading: false\n        })\n      });\n  }\n  handleKeyPress(e) {\n    if(e.key === 'Enter'){\n      this.checkPassword();\n    }\n  }\n  render() {\n    return(\n      <div className=\"container\">\n        <div className=\"columns is-multiline\">\n          <div className=\"column\"/>\n          <div className=\"column\">\n            <br/><br/><br/>\n            <div className=\"box\">\n              <div className=\"field\">\n                <label className=\"label is-smed\">Email</label>\n                <p className=\"control has-icons-left has-icons-right\">\n                  <input onChange={(e) => this.setState({[e.target.name]: e.target.value})} name=\"user\" value={this.state.user} className=\"input is-smed\" type=\"email\" placeholder=\"Email\"/>\n                  <span className=\"icon is-smed is-left\">\n                    <i className=\"fas fa-envelope\"></i>\n                  </span>\n                </p>\n              </div>\n              <div className=\"field\">\n                <label className=\"label is-smed\">Password</label>\n                <p className=\"control has-icons-left\">\n                  <input onChange={(e) => this.setState({[e.target.name]: e.target.value})} name=\"pass\" value={this.state.pass} className=\"input is-smed\" type=\"password\" onKeyPress={this.handleKeyPress.bind(this)} placeholder=\"Password\"/>\n                  <span className=\"icon is-smed is-left\">\n                    <i className=\"fas fa-lock\"></i>\n                  </span>\n                </p>\n                <p style={{color:'red'}}>{this.state.error}</p>\n              </div>\n              <div className=\"field\">\n                <p className=\"control\">\n                  <button className={\"button is-info is-smed \"+(this.state.loading ? \"is-loading\":\"\")} onClick={this.checkPassword.bind(this)}>Log in</button>\n                </p>\n              </div>\n            </div>\n          </div>\n          <div className=\"column\"/>\n          \n        </div>\n        \n\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { useParams, useNavigate, Link } from \"react-router-dom\";\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\nimport produce from 'immer';\n\nimport { collection, getDoc, getDocs, doc, query, where, limit, updateDoc } from \"firebase/firestore\";\n\n\nconst reorder = (list, startIndex, endIndex) => {\n  const result = Array.from(list);\n  const [removed] = result.splice(startIndex, 1);\n  result.splice(endIndex, 0, removed);\n\n  return result;\n};\n\n\n//const grid = 8;\n\nconst getItemStyle = (isDragging, draggableStyle) => ({\n  // some basic styles to make the items look a bit nicer\n  //userSelect: \"none\",\n  //padding: grid * 2,\n  //margin: `0 0 ${grid}px 0`,\n\n  // change background colour if dragging\n  background: isDragging ? \"lightgreen\" : \"\",\n\n  // styles we need to apply on draggables\n  ...draggableStyle\n});\n\nconst getListStyle = isDraggingOver => ({\n  //background: isDraggingOver ? \"lightblue\" : \"lightgrey\",\n  //padding: grid,\n  //width: 250\n});\n\n\nclass RecipeClass extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      id: props.params.recipeId,\n      name: '', // TODO make editable\n      servings: '',\n      text: '',\n      items: [],\n\n      search: '',\n      searchResults: [],\n      editing: -1,\n\n      editingText: false\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.onDragEnd = this.onDragEnd.bind(this);\n  }\n  componentDidMount() {\n    this.fetchRecipe();\n\n\n    // name | amount | cals | visible | delete\n  }\n  async fetchRecipe() {\n    const docRef = doc(this.props.db, \"recipes\", this.state.id);\n    const docSnap = await getDoc(docRef);\n\n    if (docSnap.exists()) {\n      //console.log(\"Document data:\", docSnap.data());\n      let data = docSnap.data();\n      for (let i=0;i<data.items.length;i++) {\n        let item = data.items[i];\n        const iRef = doc(this.props.db, \"fooditems\", item.id);\n        const iSnap = await getDoc(iRef);\n        data.items[i].item = iSnap.data();\n      }\n      this.setState({\n        name: data.name,\n        servings: data.servings,\n        text:data.text,\n        items: data.items //[{id, name, amount, visible, item}]\n      })\n    } else {\n      // doc.data() will be undefined in this case\n      console.log(\"No such document!\");\n    }\n  }\n  handleKeyPress(e) {\n    if(e.key === 'Enter'){\n      this.querySearch();\n    }\n  }\n  async querySearch(e) {\n    if (this.state.search === '') {\n      this.setState({\n        searchResults: []\n      })\n      return;\n    }\n    const ref = collection(this.props.db, \"fooditems\");\n    const q = query(ref, where('name','>=',this.state.search), where('name','<=',this.state.search+'\\uf8ff'), limit(5))\n    const querySnapshot = await getDocs(q);\n\n    let searchResults = [];\n    querySnapshot.forEach((doc_) => {\n      const data = doc_.data();\n      data.id = doc_.id;\n      searchResults.push(data);\n    });\n\n    this.setState({\n      searchResults\n    })\n  }\n  async addItem(idx, e) {\n    let data = {...this.state.searchResults[idx]};\n    let newItem = {\n      id: data.id,\n      name: data.name,\n      amount: data.amount,\n      visible: true,\n      item: data\n    }\n    if (data.volume !== undefined) {\n      newItem.volume = data.volume;\n    }\n\n    this.setState(state => ({\n      items: state.items.concat(newItem),\n      searchResults: [],\n      search: ''\n    }));\n  }\n  async save(e) {\n    let items = [];\n    let totalCals = 0;\n    for (let i=0;i<this.state.items.length;i++) {\n      let item = this.state.items[i];\n      if (item.visible) {\n        totalCals += (parseInt(item.item.cals)*(parseInt(item.item.servings)/parseInt(item.item.totalservings))*(parseFloat(item.amount)/parseFloat(item.item.amount)));\n      }\n\n      let saveItem = {\n        id:item.id,\n        amount:item.amount,\n        name:item.name,\n        visible:item.visible\n      }\n\n      if (item.volume) {\n        saveItem.volume = item.volume;\n      }\n\n      items.push(saveItem);\n    }\n    let editedItem = {\n      name: this.state.name,\n      servings: this.state.servings,\n      text:this.state.text,\n      totalCals: totalCals,\n      items: items\n    }\n\n    const iRef = doc(this.props.db, \"recipes\", this.state.id);\n    await updateDoc(iRef, editedItem);\n\n  }\n  onDragEnd(result) {\n    // dropped outside the list\n    if (!result.destination) {\n      return;\n    }\n\n    const items = reorder(\n      this.state.items,\n      result.source.index,\n      result.destination.index\n    );\n\n    this.setState({\n      items\n    });\n  }\n  startEdit(i, e) {\n    this.setState({\n      editing: i\n    })\n  }\n  handleChange(e) {\n    var args = {};\n    args[e.target.id] = e.target.value;\n    this.setState(args);\n  }\n  handleItemChange(field, idx, e) {\n    const value = e.target.value;\n    this.setState(produce((draft) => {\n      draft.items[idx][field] = value;\n    }))\n    //this.state.items[idx][field] = e.target.value;\n    //this.setState({items:this.state.items});\n  }\n  handleItemChangeConvert(field, idx, e) {\n    const value = e.target.value;\n    this.setState(produce((draft) => {\n      const item = draft.items[idx];\n\n      if (!item.item.volume || item.item.volume === '') {\n        item[field] = value;\n        return;\n      }\n\n      if (field === 'amount') {\n        item[field] = value;\n        let scale = value/item.item.amount;\n        item.volume = item.item.volume*scale;\n      } else if (field === 'volume') {\n        item[field] = value;\n        let scale = value/item.item.volume;\n        item.amount = item.item.amount*scale;\n      }\n    }))\n  }\n  toggleVisible(index, e) {\n    this.setState(produce((draft) => {\n      draft.items[index].visible = !draft.items[index].visible;\n    }))\n  }\n  deleteItem(index, e) {\n    this.state.items.splice(index, 1);\n    this.setState(state => ({\n      items: this.state.items,\n    }));\n  }\n  render() {\n\n    // TODO\n    // have two pages: one for new/choose recipe, one for displaying/editing recipe\n    // create new recipe\n    // search for food in db -> query by filter -> see results to click -> add item to recipe\n    // recipe schema is: name, servings, text, [{fooditem_id, ratio, visible}]\n\n\n\n\n    // search food -> select food -> Add item -> fetch food -> add to list\n    // edit ratio/visible\n    // edit order\n    // delete item\n    // save\n\n\n\n    /*var totalG = this.state.items.reduce(function (sum, item_) {\n      let item = item_.item;\n      if (item.visible)\n        return sum + (item.protein*item.servings/item.totalservings) + (item.fat*item.servings/item.totalservings) + (item.carbs*item.servings/item.totalservings);\n      return sum;\n    }, 0);\n\n    var totalProtein = this.state.items.reduce(function (sum, item_) {\n      let item = item_.item;\n      if (item.visible)  \n        return sum + (item.protein*item.servings/item.totalservings);\n      return sum;\n    }, 0);\n\n    var totalFat = this.state.items.reduce(function (sum, item_) {\n      let item = item_.item;\n      if (item.visible)  \n        return sum + (item.fat*item.servings/item.totalservings);\n      return sum;\n    }, 0);\n\n    var totalCarbs = this.state.items.reduce(function (sum, item_) {\n      let item = item_.item;\n      if (item.visible)  \n        return sum + (item.carbs*item.servings/item.totalservings);\n      return sum;\n    }, 0);*/\n\n    var totalCals = this.state.items.reduce(function (sum, item_) {\n      let item = item_.item;\n      if (item_.visible)\n        return sum + (parseInt(item.cals)*(parseInt(item.servings)/parseInt(item.totalservings))*(parseFloat(item_.amount)/parseFloat(item.amount)));\n      return sum;\n    }, 0);\n\n    var totalProtein = this.state.items.reduce(function (sum, item_) {\n      let item = item_.item;\n      if (item_.visible)\n        return sum + (parseInt(item.protein)*(parseInt(item.servings)/parseInt(item.totalservings))*(parseFloat(item_.amount)/parseFloat(item.amount)));\n      return sum;\n    }, 0);\n\n    var totalFat = this.state.items.reduce(function (sum, item_) {\n      let item = item_.item;\n      if (item_.visible)\n        return sum + (parseInt(item.fat)*(parseInt(item.servings)/parseInt(item.totalservings))*(parseFloat(item_.amount)/parseFloat(item.amount)));\n      return sum;\n    }, 0);\n\n    var totalCarbs = this.state.items.reduce(function (sum, item_) {\n      let item = item_.item;\n      if (item_.visible)\n        return sum + (parseInt(item.carbs)*(parseInt(item.servings)/parseInt(item.totalservings))*(parseFloat(item_.amount)/parseFloat(item.amount)));\n      return sum;\n    }, 0);\n\n    var totalGs = totalProtein + totalFat + totalCarbs;\n\n    return (\n      <div className=\"container\">\n        <br/>\n        <Link className=\"button\" to=\"/macroman/\" style={{marginRight:12}}>Back</Link>\n        <button className=\"button\" style={{marginRight:36}} onClick={this.save.bind(this)}>Save</button>\n        {this.state.editingText ?\n          <p className=\"control is-expanded\">\n            <input id=\"name\" className=\"input\" autoComplete=\"off\" type=\"text\" placeholder={\"Enter text\"} value={this.state.name} onChange={this.handleChange}/>\n          </p> :\n          <span className=\"title\" style={{marginRight:24}}>{this.state.name}</span>\n        }\n        <span className=\"subtitle is-5\">{(totalCals/(this.state.servings || 1)).toFixed(2)} cals ({(totalProtein/(this.state.servings || 1)).toFixed(0)}/{(totalFat/(this.state.servings || 1)).toFixed(0)}/{(totalCarbs/(this.state.servings || 1)).toFixed(0)}) [{(100*totalProtein/totalGs).toFixed(0)}%/{(100*totalFat/totalGs).toFixed(0)}%/{(100*totalCarbs/totalGs).toFixed(0)}%]</span>\n        <br/><br/>\n\n        <div className=\"columns\">\n\n          <div className=\"column\">\n            <div className=\"field has-addons\">\n              <div className=\"control\">\n                <button onClick={(e) => this.setState({servings: this.state.servings-1})} className=\"button\" disabled={this.state.servings < 2}>\n                  <span className=\"icon is-small\">\n                    <i className=\"fa fa-chevron-left\"></i>\n                  </span>\n                </button>\n              </div>\n              <div className=\"control\">\n                <button className=\"button is-static\">\n                  {this.state.servings} {'serving'+(this.state.servings === 1 ? '': 's')}\n                </button>\n              </div>\n              <div className=\"control\">\n                <button onClick={(e) => this.setState({servings: this.state.servings+1})} className=\"button\">\n                  <span className=\"icon is-small\">\n                    <i className=\"fa fa-chevron-right\"></i>\n                  </span>\n                </button>\n              </div>\n            </div>\n\n            \n\n\n\n            <div className={\"dropdown is-fullwidth\"+(this.state.searchResults.length > 0 ? ' is-active':'')}>\n              <div className=\"dropdown-trigger\">\n                <div className=\"field has-addons\">\n                  <p className=\"control is-expanded\">\n                    <input onKeyPress={this.handleKeyPress.bind(this)} id=\"search\" className=\"input is-fullwidth\" autoComplete=\"off\" type=\"text\" placeholder={\"Enter text\"} value={this.state.search} onChange={this.handleChange}/>\n                  </p>\n                  <p className=\"control\">\n                    <button onClick={this.querySearch.bind(this)} className=\"button\">Search</button>\n                  </p>\n                </div>\n              </div>\n              <div className=\"dropdown-menu\" id=\"dropdown-menu\" role=\"menu\">\n                <div className=\"dropdown-content\">\n                  {this.state.searchResults.map((item,index) => {\n                    return <a key={'search'+index} className=\"dropdown-item\" onClick={this.addItem.bind(this,index)}>{item.name+' '+item.amount+' '+item.unit}</a>\n                  })}\n                </div>\n              </div>\n            </div>\n\n            \n\n            \n\n            <DragDropContext onDragEnd={this.onDragEnd}>\n              <table className=\"table is-fullwidth is-hoverable is-narrow\">\n                <thead>\n                  <tr>\n                    <th>Name</th>\n                    <th>Amount</th>\n                    <th>Vol</th>\n                    <th>Cals</th>\n                    <th>P</th>\n                    <th>F</th>\n                    <th>C</th>\n                    <th></th>\n                    <th></th>\n                    <th></th>\n                  </tr>\n                </thead>\n                <Droppable droppableId=\"droppable\">\n                  {(provided, snapshot) => (\n                    <tbody\n                      {...provided.droppableProps}\n                      ref={provided.innerRef}\n                      style={getListStyle(snapshot.isDraggingOver)}>\n                      {this.state.items.map((item, index) => (\n                        <Draggable key={'drag'+index} draggableId={'drag'+index} index={index} isDragDisabled={this.state.editing !== -1}>\n                          {(provided, snapshot) => (\n                            <tr\n                              className={item.visible ? '' : 'has-text-grey-lighter'}\n                              ref={provided.innerRef}\n                              {...provided.draggableProps}\n                              {...provided.dragHandleProps}\n                              style={getItemStyle(\n                                snapshot.isDragging,\n                                provided.draggableProps.style\n                              )}\n                            >\n                              <td style={this.state.editing === index ? {padding:0} : {}}>\n                                {this.state.editing === index ?\n                                  <input value={item.name} onChange={this.handleItemChange.bind(this,'name',index)} className=\"input\" type=\"text\" placeholder=\"Name\"/>\n                                  :\n                                  item.name\n                                }\n                              </td>\n                              <td style={this.state.editing === index ? {padding:0} : {}}>\n                                {this.state.editing === index ?\n                                  <div className=\"field has-addons\">\n                                    <p className=\"control\">\n                                      <input value={item.amount} onChange={this.handleItemChangeConvert.bind(this,'amount',index)} className=\"input\" type=\"text\" placeholder=\"Amount\"/>\n                                    </p>\n                                    <p className=\"control\">\n                                      <button className=\"button is-static\">\n                                        {item.item.unit}\n                                      </button>\n                                    </p>\n                                  </div>\n                                  \n                                  :\n                                  item.amount+' '+item.item.unit\n                                }\n                              </td>\n                              <td style={this.state.editing === index ? {padding:0} : {}}>\n                                {this.state.editing === index && (item.item.volume && item.item.volume !== '') ?\n                                  <div className=\"field has-addons\">\n                                    <p className=\"control\">\n                                      <input value={item.volume} onChange={this.handleItemChangeConvert.bind(this,'volume',index)} className=\"input\" type=\"text\" placeholder=\"Volume\"/>\n                                    </p>\n                                    <p className=\"control\">\n                                      <button className=\"button is-static\">\n                                        {item.item.vol_unit || ''}\n                                      </button>\n                                    </p>\n                                  </div>\n                                  \n                                  :\n                                  (item.volume || '')+' '+(item.item.vol_unit || '')\n                                }\n                              </td>\n                              <td>{(parseInt(item.item.cals)*(parseInt(item.item.servings)/parseInt(item.item.totalservings))*(parseFloat(item.amount)/parseFloat(item.item.amount))).toFixed(2)}</td>\n\n                              <td>{(parseInt(item.item.protein)*(parseInt(item.item.servings)/parseInt(item.item.totalservings))*(parseFloat(item.amount)/parseFloat(item.item.amount))).toFixed(2)}</td>\n                              <td>{(parseInt(item.item.fat)*(parseInt(item.item.servings)/parseInt(item.item.totalservings))*(parseFloat(item.amount)/parseFloat(item.item.amount))).toFixed(2)}</td>\n                              <td>{(parseInt(item.item.carbs)*(parseInt(item.item.servings)/parseInt(item.item.totalservings))*(parseFloat(item.amount)/parseFloat(item.item.amount))).toFixed(2)}</td>\n                              \n                              <td>\n                                <p className=\"buttons\" key={'edit'+index+'_'+this.state.editing}>\n                                  {this.state.editing !== index ? <button className=\"button is-small\" onClick={(e) => this.setState({editing:index})}>\n                                    <span className=\"icon is-small has-text-danger\">\n                                      <i className=\"fas fa-pen\"></i>\n                                    </span>\n                                  </button> : <button className=\"button is-small\" onClick={(e) => this.setState({editing:-1})}>\n                                    <span className=\"icon is-small has-text-danger\">\n                                      <i className=\"fas fa-check\"></i>\n                                    </span>\n                                  </button>}\n                                </p>\n                              </td>\n                              <td>\n                                <p className=\"buttons\">\n                                  <button className=\"button is-small\" onClick={this.toggleVisible.bind(this, index)}>\n                                    <span className={\"icon is-small \"+(item.visible ? '' : 'has-text-grey-lighter')}>\n                                      <i className=\"fas fa-eye\"></i>\n                                    </span>\n                                  </button>\n                                </p>\n                              </td>\n                              <td>\n                                <p className=\"buttons\">\n                                  <button className=\"button is-small\" onClick={this.deleteItem.bind(this, index)}>\n                                    <span className=\"icon is-small has-text-danger\">\n                                      <i className=\"fas fa-times\"></i>\n                                    </span>\n                                  </button>\n                                </p>\n                              </td>\n                            </tr>\n                          )}\n                        </Draggable>\n                      ))}\n                      {provided.placeholder}\n                    </tbody>\n                  )}\n                </Droppable>\n                <tfoot>\n                <tr>\n                  <td>Total</td>\n                  <td></td>\n                  <td></td>\n                  <td>{totalCals.toFixed(2)}</td>\n                  <td>{totalProtein.toFixed(2)}</td>\n                  <td>{totalFat.toFixed(2)}</td>\n                  <td>{totalCarbs.toFixed(2)}</td>\n                  <td></td>\n                  <td></td>\n                  <td></td>\n                </tr>\n              </tfoot>\n              </table>\n            </DragDropContext>\n\n          </div>\n          <div className=\"column is-5\">\n            {this.state.editingText ? <div>\n              <button className=\"button\" onClick={(e) => {this.setState({editingText: false}, () => this.save())}}>Confirm</button>\n              <br/>\n              <textarea className=\"textarea\" value={this.state.text} onChange={(e) => this.setState({text:e.target.value})} placeholder=\"Enter text\" rows=\"20\"></textarea>\n            </div> : <div>\n              <button className=\"button\" onClick={(e) => {this.setState({editingText: true})}}>Edit</button>\n              <br/>\n              {this.state.text.split('\\n').map((item,index) => {\n                return [<span key={'pa'+index+'-1'}>{item}</span>,<br key={'pa'+index+'-2'}/>]\n              })}\n\n            </div>\n            }\n          </div>\n        </div>\n\n\n\n      </div>\n    );\n  }\n}\n\n\n\n\n\nexport default function Recipe(props) {\n    let params = useParams();\n    let navigate = useNavigate();\n    return <RecipeClass {...props} params={params} navigate={navigate} />\n}\n","import React from 'react';\nimport { Link } from \"react-router-dom\";\n\nimport { collection, addDoc, getDocs, doc, updateDoc, deleteDoc } from \"firebase/firestore\";\n\n\n\nexport default class RecipeList extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      name: '',\n      items: [],\n      isArchive: false\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n  componentDidMount() {\n    this.fetchRecipes();\n  }\n  async fetchRecipes() {\n    const querySnapshot = await getDocs(collection(this.props.db, \"recipes\"));\n    let items = [];\n    querySnapshot.forEach((doc_) => {\n      const data = doc_.data();\n      data.id = doc_.id;\n      items.push(data);\n    });\n\n    this.setState({\n      items\n    })\n  }\n  async newRecipe() {\n    try {\n      // name, servings, text, [{fooditem_id, ratio, visible}]\n      let newItem = {name: this.state.name, servings: 4, text: '', items: []};\n      const docRef = await addDoc(collection(this.props.db, \"recipes\"), newItem);\n      //console.log(\"Document written with ID: \", docRef.id);\n      // TODO go to /recipe/<docRef.id>\n      window.location.href = window.location.protocol + \"//\" + window.location.host + '/macroman/recipes/' + docRef.id;\n    } catch (e) {\n      console.error(\"Error adding document: \", e);\n    }\n  }\n  async archive(idx, e) {\n    // TODO Add archive=true to document\n    // Remove from normal list\n    const id = this.state.items[idx].id;\n    const iRef = doc(this.props.db, \"recipes\", id);\n    await updateDoc(iRef, {archive: !this.state.items[idx].archive});\n\n    this.state.items[idx].archive = !this.state.items[idx].archive;\n    this.setState(state => ({\n      items: this.state.items,\n    }));\n\n  }\n  async delete(idx, e) {\n    const id = this.state.items[idx].id;\n    const iRef = doc(this.props.db, \"recipes\", id);\n    await deleteDoc(iRef);\n\n    this.state.items.splice(idx, 1);\n    this.setState(state => ({\n      items: this.state.items,\n    }));\n  }\n  async changeType(idx, e) {\n    const val = e.target.value;\n    // TODO Add archive=true to document\n    // Remove from normal list\n    const id = this.state.items[idx].id;\n    const iRef = doc(this.props.db, \"recipes\", id);\n    await updateDoc(iRef, { type: val });\n\n    this.state.items[idx].type = val;\n    this.setState(state => ({\n      items: this.state.items,\n    }));\n\n  }\n  render() {\n\n    // TODO\n    // have two pages: one for new/choose recipe, one for displaying/editing recipe\n    // create new recipe\n    // search for food in db -> query by filter -> see results to click -> add item to recipe\n    // recipe schema is: name, servings, text, [{fooditem_id, ratio, visible}]\n\n    \n\n    return (\n      <div className=\"container\">\n        <br/><br/>\n\n        <table className=\"table is-narrow is-fullwidth\">\n          <thead>\n            <tr>\n              <th>Name</th>\n              <th>Type</th>\n              <th>Cals</th>\n              <th>Servings</th>\n              <th></th>\n              <th></th>\n            </tr>\n          </thead>\n          <tbody>\n            {this.state.items.map((item,index) => {\n              if (!item.archive === this.state.isArchive) return null;\n\n              return <tr>\n                <td><Link key={'link_'+index} to={\"/macroman/recipes/\"+item.id}>{item.name}</Link></td>\n                <td><div className=\"select is-small\">\n  <select onChange={(e) => this.changeType(index, e)} value={item.type || ''}>\n    <option value=\"\" disabled>...</option>\n    <option value=\"Quick\">Quick</option>\n    <option value=\"Weekend\">Weekend</option>\n    <option value=\"Prep\">Prep</option>\n    <option value=\"Fit\">Fit</option>\n    <option value=\"Large batch\">Large batch</option>\n    <option value=\"Dessert/Snack\">Dessert/Snack</option>\n  </select>\n</div></td>\n                <td>{parseInt(parseFloat(item.totalCals)/parseInt(item.servings))}</td>\n                <td>{item.servings}</td>\n                <td>\n                  <p className=\"buttons\">\n                    <button className=\"button is-small\" onClick={this.archive.bind(this,index)}>\n                      <span className=\"icon is-small\">\n                        <i className=\"fas fa-archive\"></i>\n                      </span>\n                    </button>\n                  </p>\n                </td>\n                <td>\n                  <p className=\"buttons\">\n                    <button className=\"button is-small\" onClick={this.delete.bind(this,index)}>\n                      <span className=\"icon is-small has-text-danger\">\n                        <i className=\"fas fa-trash-alt\"></i>\n                      </span>\n                    </button>\n                  </p>\n                </td>\n              </tr>\n            })}\n          </tbody>\n        </table>\n\n        <nav className=\"level\">\n          <div className=\"level-left\">\n            <div className=\"level-item\">\n              <div className=\"field\">\n                <p className=\"control\">\n                  <input value={this.state.name} id=\"name\" onChange={this.handleChange} className=\"input\" type=\"text\" placeholder=\"Name\"/>\n                </p>\n              </div>\n            </div>\n            <div className=\"level-item\">\n              <button onClick={this.newRecipe.bind(this)} className=\"button\">Add</button>\n            </div>\n          </div>\n        </nav>\n        \n        <Link className=\"button\" to=\"/macroman/foods\" style={{marginRight:12}}>Food index</Link>\n        <button className=\"button\" style={{marginRight:12}} onClick={() => this.setState({isArchive: !this.state.isArchive})}>{this.state.isArchive ? 'Main':'Archive'}</button>\n        <Link className=\"button\" to=\"/macroman/test\" style={{marginRight:12}}>Test</Link>\n        <button onClick={this.props.logout} className=\"button\">Logout</button>\n\n      </div>\n    );\n  }\n\n  handleChange(e) {\n    var args = {};\n    args[e.target.id] = e.target.value;\n    this.setState(args);\n  }\n}\n","import React from 'react';\nimport { useParams, useNavigate, Link } from \"react-router-dom\";\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\nimport produce from 'immer';\n\nimport { collection, getDocs, query, where, limit } from \"firebase/firestore\";\n\n\nconst reorder = (list, startIndex, endIndex) => {\n  const result = Array.from(list);\n  const [removed] = result.splice(startIndex, 1);\n  result.splice(endIndex, 0, removed);\n\n  return result;\n};\n\n\n//const grid = 8;\n\nconst getItemStyle = (isDragging, draggableStyle) => ({\n  // some basic styles to make the items look a bit nicer\n  //userSelect: \"none\",\n  //padding: grid * 2,\n  //margin: `0 0 ${grid}px 0`,\n\n  // change background colour if dragging\n  background: isDragging ? \"lightgreen\" : \"\",\n\n  // styles we need to apply on draggables\n  ...draggableStyle\n});\n\nconst getListStyle = isDraggingOver => ({\n  //background: isDraggingOver ? \"lightblue\" : \"lightgrey\",\n  //padding: grid,\n  //width: 250\n});\n\n\nclass RecipeTestClass extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      id: props.params.recipeId,\n      name: '',\n      servings: 1,\n      text: '',\n      items: [],\n\n      search: '',\n      searchResults: [],\n      editing: -1,\n\n      editingText: false\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.onDragEnd = this.onDragEnd.bind(this);\n  }\n  componentDidMount() {\n\n  }\n  handleKeyPress(e) {\n    if(e.key === 'Enter'){\n      this.querySearch();\n    }\n  }\n  async querySearch(e) {\n    if (this.state.search === '') {\n      this.setState({\n        searchResults: []\n      })\n      return;\n    }\n    const ref = collection(this.props.db, \"fooditems\");\n    const q = query(ref, where('name','>=',this.state.search), where('name','<=',this.state.search+'\\uf8ff'), limit(5))\n    const querySnapshot = await getDocs(q);\n\n    let searchResults = [];\n    querySnapshot.forEach((doc_) => {\n      const data = doc_.data();\n      data.id = doc_.id;\n      searchResults.push(data);\n    });\n\n    this.setState({\n      searchResults\n    })\n  }\n  async addItem(idx, e) {\n    let data = {...this.state.searchResults[idx]};\n    let newItem = {\n      id: data.id,\n      name: data.name,\n      amount: data.amount,\n      visible: true,\n      item: data\n    }\n    if (data.volume !== undefined) {\n      newItem.volume = data.volume;\n    }\n\n    this.setState(state => ({\n      items: state.items.concat(newItem),\n      searchResults: [],\n      search: ''\n    }));\n  }\n  onDragEnd(result) {\n    // dropped outside the list\n    if (!result.destination) {\n      return;\n    }\n\n    const items = reorder(\n      this.state.items,\n      result.source.index,\n      result.destination.index\n    );\n\n    this.setState({\n      items\n    });\n  }\n  startEdit(i, e) {\n    this.setState({\n      editing: i\n    })\n  }\n  handleChange(e) {\n    var args = {};\n    args[e.target.id] = e.target.value;\n    this.setState(args);\n  }\n  handleItemChange(field, idx, e) {\n    const value = e.target.value;\n    this.setState(produce((draft) => {\n      draft.items[idx][field] = value;\n    }))\n    //this.state.items[idx][field] = e.target.value;\n    //this.setState({items:this.state.items});\n  }\n  handleItemChangeConvert(field, idx, e) {\n    const value = e.target.value;\n    this.setState(produce((draft) => {\n      const item = draft.items[idx];\n\n      if (!item.item.volume || item.item.volume === '') {\n        item[field] = value;\n        return;\n      }\n\n      if (field === 'amount') {\n        item[field] = value;\n        let scale = value/item.item.amount;\n        item.volume = item.item.volume*scale;\n      } else if (field === 'volume') {\n        item[field] = value;\n        let scale = value/item.item.volume;\n        item.amount = item.item.amount*scale;\n      }\n    }))\n  }\n  toggleVisible(index, e) {\n    this.setState(produce((draft) => {\n      draft.items[index].visible = !draft.items[index].visible;\n    }))\n  }\n  deleteItem(index, e) {\n    this.state.items.splice(index, 1);\n    this.setState(state => ({\n      items: this.state.items,\n    }));\n  }\n  render() {\n\n    // TODO\n    // have two pages: one for new/choose recipe, one for displaying/editing recipe\n    // create new recipe\n    // search for food in db -> query by filter -> see results to click -> add item to recipe\n    // recipe schema is: name, servings, text, [{fooditem_id, ratio, visible}]\n\n\n\n\n    // search food -> select food -> Add item -> fetch food -> add to list\n    // edit ratio/visible\n    // edit order\n    // delete item\n    // save\n\n\n\n    /*var totalG = this.state.items.reduce(function (sum, item_) {\n      let item = item_.item;\n      if (item.visible)\n        return sum + (item.protein*item.servings/item.totalservings) + (item.fat*item.servings/item.totalservings) + (item.carbs*item.servings/item.totalservings);\n      return sum;\n    }, 0);\n\n    var totalProtein = this.state.items.reduce(function (sum, item_) {\n      let item = item_.item;\n      if (item.visible)  \n        return sum + (item.protein*item.servings/item.totalservings);\n      return sum;\n    }, 0);\n\n    var totalFat = this.state.items.reduce(function (sum, item_) {\n      let item = item_.item;\n      if (item.visible)  \n        return sum + (item.fat*item.servings/item.totalservings);\n      return sum;\n    }, 0);\n\n    var totalCarbs = this.state.items.reduce(function (sum, item_) {\n      let item = item_.item;\n      if (item.visible)  \n        return sum + (item.carbs*item.servings/item.totalservings);\n      return sum;\n    }, 0);*/\n\n    var totalCals = this.state.items.reduce(function (sum, item_) {\n      let item = item_.item;\n      if (item_.visible)\n        return sum + (parseInt(item.cals)*(parseInt(item.servings)/parseInt(item.totalservings))*(parseFloat(item_.amount)/parseFloat(item.amount)));\n      return sum;\n    }, 0);\n\n    return (\n      <div className=\"container\">\n        <br/>\n        <Link className=\"button\" to=\"/macroman/\" style={{marginRight:12}}>Back</Link>\n        <span className=\"subtitle is-5\">{(totalCals/(this.state.servings || 1)).toFixed(2)} cals</span>\n        <br/><br/>\n\n\n        <div className=\"field has-addons\">\n          <div className=\"control\">\n            <button onClick={(e) => this.setState({servings: this.state.servings-1})} className=\"button\" disabled={this.state.servings < 2}>\n              <span className=\"icon is-small\">\n                <i className=\"fa fa-chevron-left\"></i>\n              </span>\n            </button>\n          </div>\n          <div className=\"control\">\n            <button className=\"button is-static\">\n              {this.state.servings} {'serving'+(this.state.servings === 1 ? '': 's')}\n            </button>\n          </div>\n          <div className=\"control\">\n            <button onClick={(e) => this.setState({servings: this.state.servings+1})} className=\"button\">\n              <span className=\"icon is-small\">\n                <i className=\"fa fa-chevron-right\"></i>\n              </span>\n            </button>\n          </div>\n        </div>\n\n        \n\n\n\n        <div className={\"dropdown is-fullwidth\"+(this.state.searchResults.length > 0 ? ' is-active':'')}>\n          <div className=\"dropdown-trigger\">\n            <div className=\"field has-addons\">\n              <p className=\"control is-expanded\">\n                <input onKeyPress={this.handleKeyPress.bind(this)} id=\"search\" className=\"input is-fullwidth\" autoComplete=\"off\" type=\"text\" placeholder={\"Enter text\"} value={this.state.search} onChange={this.handleChange}/>\n              </p>\n              <p className=\"control\">\n                <button onClick={this.querySearch.bind(this)} className=\"button\">Search</button>\n              </p>\n            </div>\n          </div>\n          <div className=\"dropdown-menu\" id=\"dropdown-menu\" role=\"menu\">\n            <div className=\"dropdown-content\">\n              {this.state.searchResults.map((item,index) => {\n                return <a key={'search'+index} className=\"dropdown-item\" onClick={this.addItem.bind(this,index)}>{item.name+' '+item.amount+' '+item.unit}</a>\n              })}\n            </div>\n          </div>\n        </div>\n\n        \n\n        \n\n        <DragDropContext onDragEnd={this.onDragEnd}>\n          <table className=\"table is-fullwidth is-hoverable is-narrow\">\n            <thead>\n              <tr>\n                <th>Name</th>\n                <th>Amount</th>\n                <th>Vol</th>\n                <th>Cals</th>\n                <th></th>\n                <th></th>\n                <th></th>\n              </tr>\n            </thead>\n            <Droppable droppableId=\"droppable\">\n              {(provided, snapshot) => (\n                <tbody\n                  {...provided.droppableProps}\n                  ref={provided.innerRef}\n                  style={getListStyle(snapshot.isDraggingOver)}>\n                  {this.state.items.map((item, index) => (\n                    <Draggable key={'drag'+index} draggableId={'drag'+index} index={index} isDragDisabled={this.state.editing !== -1}>\n                      {(provided, snapshot) => (\n                        <tr\n                          className={item.visible ? '' : 'has-text-grey-lighter'}\n                          ref={provided.innerRef}\n                          {...provided.draggableProps}\n                          {...provided.dragHandleProps}\n                          style={getItemStyle(\n                            snapshot.isDragging,\n                            provided.draggableProps.style\n                          )}\n                        >\n                          <td style={this.state.editing === index ? {padding:0} : {}}>\n                            {this.state.editing === index ?\n                              <input value={item.name} onChange={this.handleItemChange.bind(this,'name',index)} className=\"input\" type=\"text\" placeholder=\"Name\"/>\n                              :\n                              item.name\n                            }\n                          </td>\n                          <td style={this.state.editing === index ? {padding:0} : {}}>\n                            {this.state.editing === index ?\n                              <div className=\"field has-addons\">\n                                <p className=\"control\">\n                                  <input value={item.amount} onChange={this.handleItemChangeConvert.bind(this,'amount',index)} className=\"input\" type=\"text\" placeholder=\"Amount\"/>\n                                </p>\n                                <p className=\"control\">\n                                  <button className=\"button is-static\">\n                                    {item.item.unit}\n                                  </button>\n                                </p>\n                              </div>\n                              \n                              :\n                              item.amount+' '+item.item.unit\n                            }\n                          </td>\n                          <td style={this.state.editing === index ? {padding:0} : {}}>\n                            {this.state.editing === index && (item.item.volume && item.item.volume !== '') ?\n                              <div className=\"field has-addons\">\n                                <p className=\"control\">\n                                  <input value={item.volume} onChange={this.handleItemChangeConvert.bind(this,'volume',index)} className=\"input\" type=\"text\" placeholder=\"Volume\"/>\n                                </p>\n                                <p className=\"control\">\n                                  <button className=\"button is-static\">\n                                    {item.item.vol_unit || ''}\n                                  </button>\n                                </p>\n                              </div>\n                              \n                              :\n                              (item.volume || '')+' '+(item.item.vol_unit || '')\n                            }\n                          </td>\n                          <td>{(parseInt(item.item.cals)*(parseInt(item.item.servings)/parseInt(item.item.totalservings))*(parseFloat(item.amount)/parseFloat(item.item.amount))).toFixed(2)}</td>\n                          \n                          <td>\n                            <p className=\"buttons\" key={'edit'+index+'_'+this.state.editing}>\n                              {this.state.editing !== index ? <button className=\"button is-small\" onClick={(e) => this.setState({editing:index})}>\n                                <span className=\"icon is-small has-text-danger\">\n                                  <i className=\"fas fa-pen\"></i>\n                                </span>\n                              </button> : <button className=\"button is-small\" onClick={(e) => this.setState({editing:-1})}>\n                                <span className=\"icon is-small has-text-danger\">\n                                  <i className=\"fas fa-check\"></i>\n                                </span>\n                              </button>}\n                            </p>\n                          </td>\n                          <td>\n                            <p className=\"buttons\">\n                              <button className=\"button is-small\" onClick={this.toggleVisible.bind(this, index)}>\n                                <span className={\"icon is-small \"+(item.visible ? '' : 'has-text-grey-lighter')}>\n                                  <i className=\"fas fa-eye\"></i>\n                                </span>\n                              </button>\n                            </p>\n                          </td>\n                          <td>\n                            <p className=\"buttons\">\n                              <button className=\"button is-small\" onClick={this.deleteItem.bind(this, index)}>\n                                <span className=\"icon is-small has-text-danger\">\n                                  <i className=\"fas fa-times\"></i>\n                                </span>\n                              </button>\n                            </p>\n                          </td>\n                        </tr>\n                      )}\n                    </Draggable>\n                  ))}\n                  {provided.placeholder}\n                </tbody>\n              )}\n            </Droppable>\n            <tfoot>\n            <tr>\n              <td>Total</td>\n              <td></td>\n              <td></td>\n              <td>{totalCals.toFixed(2)}</td>\n              <td></td>\n              <td></td>\n              <td></td>\n            </tr>\n          </tfoot>\n          </table>\n        </DragDropContext>\n\n\n\n\n      </div>\n    );\n  }\n}\n\n\n\n\n\nexport default function RecipeTest(props) {\n    let params = useParams();\n    let navigate = useNavigate();\n    return <RecipeTestClass {...props} params={params} navigate={navigate} />\n}\n","import React from 'react';\n\n\nclass ItemForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { \n      name: props.name || '',\n      cals: props.cals || '',\n      protein: props.protein || '0',\n      fat: props.fat || '0',\n      carbs: props.carbs || '0',\n      servings: props.servings || \"1\",\n      totalservings: props.totalservings || \"1\",\n      volume: props.volume || '',\n      vol_unit: props.vol_unit || '',\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n  componentDidUpdate(prevProps) {\n    if (prevProps.editing !== this.props.editing) {\n      this.setState({\n        name: this.props.item.name || '',\n        cals: this.props.item.cals || '',\n        protein: this.props.item.protein || '0',\n        fat: this.props.item.fat || '0',\n        carbs: this.props.item.carbs || '0',\n        servings: this.props.item.servings || '1',\n        totalservings: this.props.item.totalservings || '1',\n        amount: this.props.item.amount,\n        unit: this.props.item.unit,\n        volume: this.props.item.volume || '',\n        vol_unit: this.props.item.vol_unit || ''\n      })\n    }\n  }\n  render() {\n    return (\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"columns\">\n            <div className=\"column\">\n              <div className=\"field is-horizontal\">\n                <div className=\"field-body\">\n                  <div className=\"field\">\n                    <p className=\"control\">\n                      <input \n                        id=\"name\"\n                        className=\"input is-small\" \n                        type=\"text\" \n                        placeholder=\"Name\"\n                        ref={(input) => { this.nameInput = input; }}\n                        onChange={this.handleChange}\n                        value={this.state.name} />\n                    </p>\n                  </div>\n                  <div className=\"field\">\n                    <p className=\"control\">\n                      <input \n                        id=\"cals\"\n                        className=\"input is-small\" \n                        type=\"text\" \n                        placeholder=\"Cals\"\n                        onChange={this.handleChange}\n                        value={this.state.cals} />\n                    </p>\n                  </div>\n\n                  <div className=\"field\">\n                    <p className=\"control\">\n                      <input \n                        id=\"protein\"\n                        className=\"input is-small\" \n                        type=\"text\" \n                        placeholder=\"Protein\"\n                        onChange={this.handleChange}\n                        value={this.state.protein} />\n                    </p>\n                  </div>\n                  <div className=\"field\">\n                    <p className=\"control\">\n                      <input \n                        id=\"fat\"\n                        className=\"input is-small\" \n                        type=\"text\" \n                        placeholder=\"Fat\"\n                        onChange={this.handleChange}\n                        value={this.state.fat} />\n                    </p>\n                  </div>\n                  <div className=\"field\">\n                    <p className=\"control\">\n                      <input \n                        id=\"carbs\"\n                        className=\"input is-small\" \n                        type=\"text\" \n                        placeholder=\"Carbs\"\n                        onChange={this.handleChange}\n                        value={this.state.carbs} />\n                    </p>\n                  </div>\n\n                </div>\n              </div>\n              <div className=\"field is-horizontal\">\n                <div className=\"field-body\">\n                  <div className=\"field\">\n                    <p className=\"control\">\n                      <input \n                        id=\"servings\"\n                        className=\"input is-small\" \n                        type=\"text\" \n                        placeholder=\"Servings\"\n                        onChange={this.handleChange}\n                        value={this.state.servings} />\n                    </p>\n                  </div>\n                  <div className=\"field\">\n                    <p className=\"control\">\n                      <input \n                        id=\"totalservings\"\n                        className=\"input is-small\" \n                        type=\"text\" \n                        placeholder=\"Total servings\"\n                        onChange={this.handleChange}\n                        value={this.state.totalservings} />\n                    </p>\n                  </div>\n                  <div className=\"field\">\n                    <p className=\"control\">\n                      <input \n                        id=\"amount\"\n                        className=\"input is-small\" \n                        type=\"text\" \n                        placeholder=\"Amount\"\n                        onChange={this.handleChange}\n                        value={this.state.amount} />\n                    </p>\n                  </div>\n                  <div className=\"field\">\n                    <p className=\"control\">\n                      <input \n                        id=\"unit\"\n                        className=\"input is-small\" \n                        type=\"text\" \n                        placeholder=\"Unit\"\n                        onChange={this.handleChange}\n                        value={this.state.unit} />\n                    </p>\n                  </div>\n                  <div className=\"field\">\n                    <p className=\"control\">\n                      <input \n                        id=\"volume\"\n                        className=\"input is-small\" \n                        type=\"text\" \n                        placeholder=\"Volume\"\n                        onChange={this.handleChange}\n                        value={this.state.volume} />\n                    </p>\n                  </div>\n                  <div className=\"field\">\n                    <p className=\"control\">\n                      <input \n                        id=\"vol_unit\"\n                        className=\"input is-small\" \n                        type=\"text\" \n                        placeholder=\"Unit\"\n                        onChange={this.handleChange}\n                        value={this.state.vol_unit} />\n                    </p>\n                  </div>\n                </div>\n              </div>\n              <div className=\"field is-horizontal\">\n                <div className=\"field-body\">\n                  \n                  <div className=\"field\">\n                    <div className=\"control\">\n                      <button className=\"button is-primary\">\n                        Add item\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </form>\n    );\n  }\n\n  handleChange(e) {\n    var args = {};\n    args[e.target.id] = e.target.value;\n    this.setState(args);\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    /*if (!this.state.text.length) {\n      return;\n    }*/\n    const newItem = {\n      name: this.state.name,\n      cals: this.state.cals,\n      protein: this.state.protein,\n      fat: this.state.fat,\n      carbs: this.state.carbs,\n      servings: this.state.servings,\n      totalservings: this.state.totalservings,\n      amount: this.state.amount,\n      unit: this.state.unit,\n      volume: this.state.volume,\n      vol_unit: this.state.vol_unit,\n    };\n    this.props.handleSubmit(newItem);\n    this.setState(state => ({\n      name: '',\n      cals: '',\n      protein: '0',\n      fat: '0',\n      carbs: '0',\n      servings: '1',\n      totalservings: '1',\n      amount: '',\n      unit: '',\n      volume: '',\n      vol_unit: ''\n    }));\n    this.nameInput.focus();\n  }\n}\n\nexport { ItemForm }","import React from 'react';\nimport { Link } from \"react-router-dom\";\nimport { ItemForm } from './components';\n\nimport { collection, addDoc, getDocs, doc, deleteDoc, updateDoc } from \"firebase/firestore\";\n\n\nexport default class FoodList extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { \n      items: [],\n      editing: -1,\n      editId: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleEditSubmit = this.handleEditSubmit.bind(this);\n  }\n  componentDidMount() {\n    this.queryItems();\n  }\n  async queryItems() {\n    const querySnapshot = await getDocs(collection(this.props.db, \"fooditems\"));\n    let items = [];\n    querySnapshot.forEach((doc_) => {\n      const data = doc_.data();\n      data.id = doc_.id;\n      items.push(data);\n    });\n\n    this.setState({\n      items\n    })\n  }\n\n  startEdit(i, e) {\n    this.setState({\n      editing: i,\n      editId: this.state.items[i].id\n    })\n  }\n\n  handleChange(e) {\n    var args = {};\n    args[e.target.id] = e.target.value;\n    this.setState(args);\n  }\n\n  async handleSubmit(newItem) {\n    try {\n      const docRef = await addDoc(collection(this.props.db, \"fooditems\"), newItem);\n      //console.log(\"Document written with ID: \", docRef.id);\n      newItem.id = docRef.id;\n    } catch (e) {\n      console.error(\"Error adding document: \", e);\n    }\n\n    this.setState(state => ({\n      items: state.items.concat(newItem),\n    }));\n  }\n  async handleEditSubmit(editedItem) {\n    console.log(editedItem);\n    const iRef = doc(this.props.db, \"fooditems\", this.state.editId);\n    await updateDoc(iRef, editedItem);\n    console.log('???');\n    editedItem.id = this.state.editId;\n\n    this.state.items[this.state.editing] = editedItem;\n    this.setState(state => ({\n      items: this.state.items,\n      editing: -1\n    }));\n  }\n  async deleteItem(index, e) {\n    await deleteDoc(doc(this.props.db, \"fooditems\", this.state.items[index].id));\n    this.state.items.splice(index, 1);\n    this.setState(state => ({\n      items: this.state.items,\n    }));\n  }\n\n  render() {\n\n    return (\n      <div className=\"container\">\n        <br/>\n        <Link className=\"button\" to=\"/macroman/\">Back</Link>\n        <br/>\n        <table className=\"table is-fullwidth is-hoverable\">\n          <thead>\n            <tr>\n              <th>Name</th>\n              <th>Amount</th>\n              <th>Volume</th>\n              <th>Cals</th>\n              <th>Protein</th>\n              <th>Fat</th>\n              <th>Carbs</th>\n              <th>Servings</th>\n              <th></th>\n              <th></th>\n            </tr>\n          </thead>\n\n          <tbody>\n            {this.state.items.map((item, index) => (\n              <tr key={'row'+index}>\n                <td>{item.name}</td>\n                <td>{item.amount+' '+item.unit}</td>\n                <td>{(item.volume || '')+' '+(item.vol_unit || '')}</td>\n                <td>{(item.cals*item.servings/item.totalservings).toFixed(2)}</td>\n                <td>{(item.protein*item.servings/item.totalservings).toFixed(2)}</td>\n                <td>{(item.fat*item.servings/item.totalservings).toFixed(2)}</td>\n                <td>{(item.carbs*item.servings/item.totalservings).toFixed(2)}</td>\n                <td>{item.servings+'/'+item.totalservings}</td>\n                <td>\n                  <p className=\"buttons\">\n                    <button className=\"button is-small\" onClick={this.startEdit.bind(this, index)}>\n                      <span className=\"icon is-small has-text-primary\">\n                        <i className=\"fas fa-pen\"></i>\n                      </span>\n                    </button>\n                  </p>\n                </td>\n                <td>\n                  <p className=\"buttons\">\n                    <button className=\"button is-small\" onClick={this.deleteItem.bind(this, index)}>\n                      <span className=\"icon is-small has-text-danger\">\n                        <i className=\"fas fa-times\"></i>\n                      </span>\n                    </button>\n                  </p>\n                </td>\n              </tr>\n            \n            ))}\n          </tbody>\n            \n        </table>\n\n\n        <div className=\"columns\">\n          <div className=\"column\"></div>\n          <div className=\"column is-8\">\n            <ItemForm handleSubmit={this.handleSubmit} />\n          </div>\n          <div className=\"column\"></div>\n        </div>\n        \n        <div className={\"modal \"+(this.state.editing !== -1 ? 'is-active' : '')}>\n          <div className=\"modal-background\"></div>\n          <div className=\"modal-card\" style={{width:'60%'}}>\n            <header className=\"modal-card-head\">\n              <p className=\"modal-card-title\">Edit item</p>\n              <button className=\"delete\" aria-label=\"close\" onClick={() => {this.setState({editing: -1})}}></button>\n            </header>\n            <section className=\"modal-card-body\">\n              <ItemForm handleSubmit={this.handleEditSubmit} editing={this.state.editing} item={this.state.editing !== -1 ? this.state.items[this.state.editing] : {}} />\n            </section>\n            {/*<footer className=\"modal-card-foot\">\n              <button className=\"button is-success\">Save changes</button>\n              <button className=\"button\">Cancel</button>\n            </footer>*/}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  \n}\n\n","import React from 'react';\nimport { BrowserRouter, Routes, Route } from \"react-router-dom\";\nimport Login from './login';\nimport Recipe from './recipe';\nimport RecipeList from './recipe-list';\nimport RecipeTest from './recipe-test';\nimport FoodList from './food-list';\n\nimport { initializeApp } from \"firebase/app\";\nimport { getFirestore } from \"firebase/firestore\";\nimport { getAuth, onAuthStateChanged, signOut } from \"firebase/auth\";\n\n\n\n\nexport default class App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    const firebaseConfig = {\n      apiKey: \"AIzaSyCugfMvDTmT8PSVd0B_4X6b7zOswwgU61s\",\n      authDomain: \"macroman-4a7e3.firebaseapp.com\",\n      projectId: \"macroman-4a7e3\",\n      storageBucket: \"macroman-4a7e3.appspot.com\",\n      messagingSenderId: \"357353968136\",\n      appId: \"1:357353968136:web:38cb575af02041f5d8b7bd\",\n      measurementId: \"G-BZG3MZ2HNQ\"\n    };\n\n    // Initialize Firebase\n    const app = initializeApp(firebaseConfig);\n    const db = getFirestore(app);\n    const auth = getAuth();\n\n\n    this.state = { \n      app: app,\n      db: db,\n      auth: auth,\n      user: null,\n      loading: true\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n  componentDidMount() {\n    // Check if user is logged in\n    onAuthStateChanged(this.state.auth, (user) => {\n      if (user) {\n        // User is signed in, see docs for a list of available properties\n        // https://firebase.google.com/docs/reference/js/firebase.User\n        //const uid = user.uid;\n\n        this.setState({\n          user: user,\n          loading:false\n        })\n\n        //const cityRef = doc(this.state.db, 'Users', uid);\n        //setDoc(cityRef, { role: 'admin' });\n      } else {\n\n        this.setState({\n          user: null,\n          loading: false\n        })\n      }\n    });\n  }\n  logout(e) {\n    signOut(this.state.auth).then(() => {\n      // Sign-out successful.\n      //console.log('signed out');\n      //window.location.reload();\n      //console.log(window.location.host);\n      window.location.href = window.location.protocol + \"//\" + window.location.host+'/macroman/';\n    }).catch((error) => {\n      // An error happened.\n      console.log(error);\n    });\n  }\n  handleChange(e) {\n    var args = {};\n    args[e.target.id] = e.target.value;\n    this.setState(args);\n  }\n  render() {\n    if (this.state.loading) return <div></div>;\n    if (!this.state.user) return <Login auth={this.state.auth} />;\n\n\n\n    // TODO\n    // create new recipe\n    // search for food in db -> query by filter -> see results to click -> add item to recipe\n    // recipe schema is: name, servings, [{fooditem_id, ratio, visible}]\n\n\n\n\n    return (\n      <BrowserRouter>\n        <Routes>\n          <Route path=\"/macroman/\" element={<RecipeList db={this.state.db} logout={this.logout.bind(this)} />} />\n          <Route path=\"/macroman/foods\" element={<FoodList db={this.state.db}/>} />\n          <Route path=\"/macroman/test\" element={<RecipeTest db={this.state.db}/>} />\n          <Route path=\"/macroman/recipes/:recipeId\" element={<Recipe db={this.state.db} />} />\n          \n          <Route\n            path=\"*\"\n            element={\n              <main style={{ padding: \"12rem\" }}>\n                <p>Error: page does not exist</p>\n              </main>\n            }\n          />\n        </Routes>\n      </BrowserRouter>\n    );\n  }\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}